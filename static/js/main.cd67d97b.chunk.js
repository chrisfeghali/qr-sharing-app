(this["webpackJsonpqr-sharing"]=this["webpackJsonpqr-sharing"]||[]).push([[0],{52:function(e,s,t){},53:function(e,s,t){},56:function(e,s,t){},64:function(e,s,t){},65:function(e,s,t){},66:function(e,s,t){},68:function(e,s,t){"use strict";t.r(s);var a=t(6),n=t.n(a),r=t(44),c=t.n(r),i=(t(52),t(53),t(12)),o=t(11),l=t(45),d=t(22),u=JSON.stringify('{"apiKey":"AIzaSyADeSL15ag31ofb_AKNjLeyIhJnU85j9Qk","authDomain":"qr-sharing-bfd1c.firebaseapp.com","projectId":"qr-sharing-bfd1c","storageBucket":"qr-sharing-bfd1c.appspot.com","messagingSenderId":"428316652870","appId":"1:428316652870:web:fea94b6959e24d47ab6147"}');console.log("Firebase config is ".concat(u));var j=JSON.parse(JSON.parse(u));"localhost"===window.location.hostname&&(console.log("window location hostname is ".concat(window.location.hostname)),j.databaseURL="http://localhost:9000?ns=emulatorui"),console.log("Firebase config parsed is ".concat(JSON.stringify(j)));var b=Object(l.a)(j),m=Object(d.c)(b);"localhost"===window.location.hostname&&Object(d.a)(m,"http://localhost:9099");var h=t(4),p=n.a.createContext();function g(){return Object(a.useContext)(p)}function O(e){var s=e.children,t=Object(a.useState)(),n=Object(o.a)(t,2),r=n[0],c=n[1],i=Object(a.useState)(!0),l=Object(o.a)(i,2),u=l[0],j=l[1];Object(a.useEffect)((function(){return Object(d.d)(m,(function(e){c(e),j(!1)}))}),[]);var b={currentUser:r,signIn:function(e,s){return Object(d.f)(m,e,s)},signUp:function(e,s){return Object(d.b)(m,e,s)},signOut:function(){return Object(d.g)(m)},resetPassword:function(e){return Object(d.e)(m,e)},updateEmail:function(e){return Object(d.h)(r,e)},updatePassword:function(e){return Object(d.i)(r,e)},updateName:function(e){return Object(d.j)(r,{displayName:e})}};return Object(h.jsx)(p.Provider,{value:b,children:!u&&s})}var x=t(0),v=t.n(x),f=t(3),w=(t(56),t(33)),S=t(30),k=t(20),N=t(29),y=t(8),E=t(36),L=function(e){var s,t,a,n,r=e.label,c=e.register,i=e.required,o=e.type,l=e.errors,d=e.maxLength,u=void 0===d?50:d,j=e.minLength,b=void 0===j?0:j,m=e.pattern,p=e.validate;return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)(E.a,{controlId:r,label:!0===i?"".concat(r,"*"):r,className:"mb-3",children:[Object(h.jsx)(N.a.Control,Object(y.a)(Object(y.a)({},c(r,{maxLength:{value:u,message:"Maximum length is ".concat(u)},minLength:{value:b,message:"Minimum length is ".concat(b)},required:"".concat(r," is required"),pattern:{value:m,message:"A valid ".concat(r," is required")},validate:p})),{},{type:o,placeholder:r,isInvalid:l[r]&&"success"!==l[r].type,isValid:l[r]&&"success"===l[r].type})),Object(h.jsx)(N.a.Control.Feedback,{type:"invalid",className:"Sign-feedback-text mt-1",children:"success"!==(null===(s=l[r])||void 0===s?void 0:s.type)?null===(t=l[r])||void 0===t?void 0:t.message:""}),Object(h.jsx)(N.a.Control.Feedback,{type:"valid",className:"Sign-feedback-text mt-1",children:"success"===(null===(a=l[r])||void 0===a?void 0:a.type)?null===(n=l[r])||void 0===n?void 0:n.message:""})]})})},A=t(46),q=t.n(A);var P=function(e){var s=Object(w.a)({mode:"onBlur"}),t=s.register,a=s.formState.errors,n=s.handleSubmit,r=s.setError,c=g().signIn,o=Object(i.t)(),l=function(){var e=Object(f.a)(v.a.mark((function e(s){var t,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c(s["Email Address"],s.Password);case 3:t=e.sent,a=t.user,console.log(a),o("/",{replace:!0}),e.next=23;break;case 9:e.prev=9,e.t0=e.catch(0),e.t1=e.t0.code,e.next="auth/user-not-found"===e.t1?14:"auth/operation-not-allowed"===e.t1?16:"auth/wrong-password"===e.t1?18:20;break;case 14:return r("Email Address",{type:"manual",message:"This email address is not registered, please use another one."},{shouldFocus:!0}),e.abrupt("break",23);case 16:return alert(e.t0.message,"Error during sign in, please contact me"),e.abrupt("break",23);case 18:return r("Password",{type:"manual",message:"Password is wrong, please try again. "},{shouldFocus:!0}),e.abrupt("break",23);case 20:return console.log(e.t0.message),alert(e.t0.message,"Error during sign in, please contact me"),e.abrupt("break",23);case 23:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(s){return e.apply(this,arguments)}}();return Object(h.jsxs)("div",{className:"Sign",children:[Object(h.jsxs)("div",{className:"Sign-header",children:[Object(h.jsx)("span",{className:"fs-3 mb-2",children:"Sign In"}),Object(h.jsx)("div",{className:"Sign-header-links",children:Object(h.jsx)(S.LinkContainer,{to:"../signup",children:Object(h.jsx)(k.a,{variant:"link",className:"Link fs-5",children:"Sign up"})})})]}),Object(h.jsxs)(N.a,{className:"Sign-form",noValidate:!0,onSubmit:n(l),children:[Object(h.jsx)(L,{label:"Email Address",register:t,required:!0,type:"email",errors:a,pattern:/^\S+@\S+$/i}),Object(h.jsx)(L,{label:"Password",register:t,required:!0,type:"password",errors:a}),Object(h.jsxs)("div",{className:"Sign-password-bottom mt-2  ",children:[Object(h.jsx)(k.a,{className:"Sign-signin-button",type:"submit",children:"Sign in"}),Object(h.jsx)(S.LinkContainer,{to:"../resetpassword",className:"Signin-forgot-password",children:Object(h.jsx)(k.a,{variant:"link",className:"Link fs-5",children:"Forgot Password?"})})]})]}),Object(h.jsxs)("div",{className:"Sign-signin",children:[Object(h.jsx)("span",{className:"fs-3",children:"OR"}),Object(h.jsx)(q.a,{children:"Sign in with Google"})]})]})};t(64);var F=function(){var e=Object(w.a)({mode:"onBlur"}),s=e.register,t=e.formState.errors,a=e.handleSubmit,n=e.watch,r=e.setError,c=g().signUp,o=Object(i.t)(),l=function(){var e=Object(f.a)(v.a.mark((function e(s){var t,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c(s["Email Address"],s.Password);case 3:return t=e.sent,a=t.user,console.log(a),e.next=8,Object(d.j)(a,{displayName:s.Name});case 8:o("/",{replace:!0}),e.next=26;break;case 11:e.prev=11,e.t0=e.catch(0),e.t1=e.t0.code,e.next="auth/email-already-in-use"===e.t1?16:"auth/invalid-email"===e.t1?18:"auth/operation-not-allowed"===e.t1?20:"auth/weak-password"===e.t1?22:24;break;case 16:return r("Email Address",{type:"manual",message:"This email address is already in use, please use another one."},{shouldFocus:!0}),e.abrupt("break",26);case 18:return r("Email Address",{type:"manual",message:"A valid Email Address is required."},{shouldFocus:!0}),e.abrupt("break",26);case 20:return alert("Error during sign up, please contact me"),e.abrupt("break",26);case 22:return r("Password",{type:"manual",message:"Password is weak, make it stronger! "},{shouldFocus:!0}),e.abrupt("break",26);case 24:return console.log(e.t0.message),e.abrupt("break",26);case 26:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(s){return e.apply(this,arguments)}}();return Object(h.jsxs)("div",{className:"Sign",children:[Object(h.jsxs)("div",{className:"Sign-header",children:[Object(h.jsx)("span",{className:"fs-3 mb-2",children:"Sign Up"}),Object(h.jsx)("div",{className:"Sign-header-links",children:Object(h.jsx)(S.LinkContainer,{to:"../signin",children:Object(h.jsx)(k.a,{variant:"link",className:"Link fs-5",children:"Sign in"})})})]}),Object(h.jsxs)(N.a,{className:"Sign-form",noValidate:!0,onSubmit:a(l),children:[Object(h.jsx)(L,{label:"Name",register:s,required:!0,type:"text",errors:t}),Object(h.jsx)(L,{label:"Email Address",register:s,required:!0,type:"email",errors:t,pattern:/^\S+@\S+$/i}),Object(h.jsx)(L,{label:"Password",register:s,required:!0,type:"password",errors:t,minLength:"6"}),Object(h.jsx)(L,{label:"Confirm Password",register:s,required:!0,type:"password",errors:t,validate:function(e){return e===n("Password")||"Passwords do not match."}}),Object(h.jsxs)("div",{className:"Sign-password-bottom mt-2  ",children:[Object(h.jsx)(k.a,{className:"Sign-signin-button",type:"submit",children:"Sign up"}),Object(h.jsx)("div",{})]})]})]})};var C=function(){var e=Object(w.a)({mode:"onBlur"}),s=e.register,t=e.formState.errors,n=e.handleSubmit,r=e.setError,c=g().resetPassword,i=Object(a.useState)(!1),l=Object(o.a)(i,2),d=l[0],u=l[1],j=function(){var e=Object(f.a)(v.a.mark((function e(s){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c(s["Email Address"]);case 3:u(!0),r("Email Address",{type:"success",message:"A reset password email has been sent! It might be in your junk \ud83d\udc40"},{shouldFocus:!0}),e.next=20;break;case 7:e.prev=7,e.t0=e.catch(0),e.t1=e.t0.code,e.next="auth/operation-not-allowed"===e.t1?12:"auth/user-not-found"===e.t1?14:"auth/invalid-email"===e.t1?16:18;break;case 12:return alert("Error during sign up, please contact me"),e.abrupt("break",20);case 14:return r("Email Address",{type:"manual",message:"This email address is not registered, please use another one."},{shouldFocus:!0}),e.abrupt("break",20);case 16:return r("Email Address",{type:"manual",message:"This email address is not valid, please use another one."},{shouldFocus:!0}),e.abrupt("break",20);case 18:return console.log(e.t0.message),e.abrupt("break",20);case 20:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(s){return e.apply(this,arguments)}}();return Object(h.jsxs)("div",{className:"Sign",children:[Object(h.jsxs)("div",{className:"Sign-header",children:[Object(h.jsx)("span",{className:"fs-3 mb-2",children:"Reset Password"}),Object(h.jsx)("div",{})]}),Object(h.jsxs)(N.a,{className:"Sign-form",noValidate:!0,onSubmit:n(j),children:[Object(h.jsx)(L,{label:"Email Address",register:s,required:!0,type:"email",errors:t,pattern:/^\S+@\S+$/i}),Object(h.jsxs)("div",{className:"Sign-password-bottom mt-2  ",children:[Object(h.jsx)(k.a,{className:"Sign-signin-button",type:"submit",children:"Submit"}),d?Object(h.jsx)(S.LinkContainer,{to:"../signin",className:"Signin-forgot-password",children:Object(h.jsx)(k.a,{variant:"link",className:"Link fs-5",children:"Sign in"})}):""]})]})]})};t(65);var I=function(e){var s=g(),t=s.currentUser,a=s.signOut,n=Object(i.t)();function r(){return(r=Object(f.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a();case 2:n("/",{replace:!0});case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(h.jsx)("div",{className:"Home",children:Object(h.jsxs)("div",{className:"Home-contents",children:[Object(h.jsx)("div",{children:"Home"}),Object(h.jsx)("div",{children:Object(h.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(h.jsx)("div",{children:t.displayName}),Object(h.jsx)("div",{children:t.email})]})}),Object(h.jsx)("div",{className:"Sign-header-links",children:Object(h.jsx)(k.a,{variant:"link",className:"Link fs-5",onClick:function(){return r.apply(this,arguments)},children:"Sign Out"})})]})})},U=t.p+"static/media/logo.0aec9156.svg";t(66);var J=function(e){return Object(h.jsx)("div",{className:"Landing",children:Object(h.jsxs)("div",{className:"Landing-contents",children:[Object(h.jsx)("div",{className:"Landing-left",children:Object(h.jsx)("img",{src:U,className:"Landing-logo",alt:"logo"})}),Object(h.jsxs)("div",{className:"Landing-right",children:[Object(h.jsx)("p",{children:"Share QR codes with your friends and family"}),Object(h.jsx)(i.c,{})]})]})})};var B=function(){return Object(h.jsx)("div",{className:"d-flex justify-content-center align-items-center min-vh-100",children:Object(h.jsxs)("div",{className:"d-flex flex-column justify-content-center ",children:[Object(h.jsx)("h1",{className:"text-white",children:"Error! Page not found."}),Object(h.jsx)(S.LinkContainer,{to:"/home",children:Object(h.jsx)(k.a,{variant:"link",className:"Link fs-2",children:"Go home"})})]})})};function R(e){var s=e.children;return g().currentUser?s:Object(h.jsx)(i.b,{to:"/landing"})}function T(e){var s=e.children;return g().currentUser?Object(h.jsx)(i.b,{to:"/home"}):s}var V=function(e){return Object(h.jsx)("div",{children:Object(h.jsx)(O,{children:Object(h.jsxs)(i.f,{children:[Object(h.jsx)(i.d,{index:!0,element:Object(h.jsx)(i.b,{replace:!0,to:"home"})}),Object(h.jsx)(i.d,{path:"home",element:Object(h.jsx)(R,{children:Object(h.jsx)(I,{})})}),Object(h.jsxs)(i.d,{path:"landing",element:Object(h.jsx)(T,{children:Object(h.jsx)(J,{})}),children:[Object(h.jsx)(i.d,{index:!0,element:Object(h.jsx)(i.b,{replace:!0,to:"signin"})}),Object(h.jsx)(i.d,{path:"signin",element:Object(h.jsx)(P,{})}),Object(h.jsx)(i.d,{path:"signup",element:Object(h.jsx)(F,{})}),Object(h.jsx)(i.d,{path:"resetpassword",element:Object(h.jsx)(C,{})})]}),Object(h.jsx)(i.d,{path:"*",element:Object(h.jsx)(B,{})})]})})})},D=t(28),H=t(38),M=Object(H.a)(b),$=Object(H.c)(M,"Users/1/name"),G="";Object(H.b)($,(function(e){G=e.val(),console.log(G)})),console.log(G),console.log(M),c.a.render(Object(h.jsx)(n.a.StrictMode,{children:Object(h.jsx)(D.BrowserRouter,{basename:"/qr-sharing-app",children:Object(h.jsx)(i.f,{children:Object(h.jsx)(i.d,{path:"/*",element:Object(h.jsx)(V,{})})})})}),document.getElementById("root"))}},[[68,1,2]]]);
//# sourceMappingURL=main.cd67d97b.chunk.js.map