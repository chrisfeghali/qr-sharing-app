(this["webpackJsonpqr-sharing"]=this["webpackJsonpqr-sharing"]||[]).push([[0],{59:function(e,t,s){},60:function(e,t,s){},63:function(e,t,s){},71:function(e,t,s){},72:function(e,t,s){},73:function(e,t,s){},75:function(e,t,s){"use strict";s.r(t);var a=s(2),n=s.n(a),r=s(33),i=s.n(r),c=(s(59),s(60),s(13)),o=s(11),l=s(51),d=s(22),u=JSON.stringify('{"apiKey":"AIzaSyADeSL15ag31ofb_AKNjLeyIhJnU85j9Qk","authDomain":"qr-sharing-bfd1c.firebaseapp.com","projectId":"qr-sharing-bfd1c","storageBucket":"qr-sharing-bfd1c.appspot.com","messagingSenderId":"428316652870","appId":"1:428316652870:web:fea94b6959e24d47ab6147"}');console.log("Firebase config is ".concat(u));var b=JSON.parse(JSON.parse(u));"localhost"===window.location.hostname&&(console.log("window location hostname is ".concat(window.location.hostname)),b.databaseURL="http://localhost:9000?ns=emulatorui"),console.log("Firebase config parsed is ".concat(JSON.stringify(b)));var j=Object(l.a)(b),p=Object(d.d)(j);"localhost"===window.location.hostname&&Object(d.b)(p,"http://localhost:9099");var m=s(5),h=n.a.createContext(),g=new d.a;function O(){return Object(a.useContext)(h)}function x(e){var t=e.children,s=Object(a.useState)(),n=Object(o.a)(s,2),r=n[0],i=n[1],c=Object(a.useState)(!0),l=Object(o.a)(c,2),u=l[0],b=l[1];Object(a.useEffect)((function(){return Object(d.e)(p,(function(e){i(e),b(!1)}))}),[]);var j={currentUser:r,signIn:function(e,t){return Object(d.g)(p,e,t)},signInPopup:function(){return Object(d.h)(p,g)},signUp:function(e,t){return Object(d.c)(p,e,t)},signOut:function(){return Object(d.i)(p)},resetPassword:function(e){return Object(d.f)(p,e)},updateEmail:function(e){return Object(d.j)(r,e)},updatePassword:function(e){return Object(d.k)(r,e)},updateName:function(e){return Object(d.l)(r,{displayName:e})}};return Object(m.jsx)(h.Provider,{value:j,children:!u&&t})}var f=s(0),v=s.n(f),w=s(4),k=(s(63),s(36)),S=s(31),y=s(23),N=s(30),E=s(47),L=s(8),A=s(40),q=function(e){var t,s,a,n,r=e.label,i=e.register,c=e.required,o=e.type,l=e.errors,d=e.maxLength,u=void 0===d?50:d,b=e.minLength,j=void 0===b?0:b,p=e.pattern,h=e.validate;return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)(A.a,{controlId:r,label:!0===c?"".concat(r,"*"):r,className:"mb-3",children:[Object(m.jsx)(N.a.Control,Object(L.a)(Object(L.a)({},i(r,{maxLength:{value:u,message:"Maximum length is ".concat(u)},minLength:{value:j,message:"Minimum length is ".concat(j)},required:"".concat(r," is required"),pattern:{value:p,message:"A valid ".concat(r," is required")},validate:h})),{},{type:o,placeholder:r,isInvalid:l[r]&&"success"!==l[r].type,isValid:l[r]&&"success"===l[r].type})),Object(m.jsx)(N.a.Control.Feedback,{type:"invalid",className:"Sign-feedback-text mt-1",children:"success"!==(null===(t=l[r])||void 0===t?void 0:t.type)?null===(s=l[r])||void 0===s?void 0:s.message:""}),Object(m.jsx)(N.a.Control.Feedback,{type:"valid",className:"Sign-feedback-text mt-1",children:"success"===(null===(a=l[r])||void 0===a?void 0:a.type)?null===(n=l[r])||void 0===n?void 0:n.message:""})]})})},P=s(52),I=s.n(P);var C=function(e){var t=Object(k.a)({mode:"onBlur"}),s=t.register,n=t.formState.errors,r=t.handleSubmit,i=t.setError,l=O(),d=l.signIn,u=l.signInPopup,b=Object(c.t)(),j=Object(a.useState)(!1),p=Object(o.a)(j,2),h=p[0],g=p[1],x=Object(a.useState)(""),f=Object(o.a)(x,2),L=f[0],A=f[1],P=function(){var e=Object(w.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d(t["Email Address"],t.Password);case 3:b("/",{replace:!0}),e.next=20;break;case 6:e.prev=6,e.t0=e.catch(0),e.t1=e.t0.code,e.next="auth/user-not-found"===e.t1?11:"auth/operation-not-allowed"===e.t1?13:"auth/wrong-password"===e.t1?15:17;break;case 11:return i("Email Address",{type:"manual",message:"This email address is not registered, please use another one."},{shouldFocus:!0}),e.abrupt("break",20);case 13:return alert(e.t0.message,"Error during sign in, please contact me"),e.abrupt("break",20);case 15:return i("Password",{type:"manual",message:"Password is wrong, please try again. "},{shouldFocus:!0}),e.abrupt("break",20);case 17:return console.log(e.t0.message),alert(e.t0.message,"Error during sign in, please contact me"),e.abrupt("break",20);case 20:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(w.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u();case 3:b("/",{replace:!0}),e.next=29;break;case 6:e.prev=6,e.t0=e.catch(0),e.t1=e.t0.code,e.next="auth/account-exists-with-different-credential"===e.t1?11:"auth/auth-domain-config-required"===e.t1?13:"auth/cancelled-popup-request"===e.t1?15:"auth/operation-not-allowed"===e.t1?17:"auth/operation-not-supported-in-this-environment"===e.t1?19:"auth/popup-blocked"===e.t1?21:"auth/popup-closed-by-user"===e.t1?23:"auth/unauthorized-domain"===e.t1?25:27;break;case 11:return A("An account already exists with this email, contact me because this isn't supposed to happen"),e.abrupt("break",28);case 13:return A("Auth domain config not provided. I don't know what that means either, but contact me because this isn't supposed to happen"),e.abrupt("break",28);case 15:return A("Only one popup request is allowed at a time, maybe stop pressing the button?"),e.abrupt("break",28);case 17:return A("Your account isn't enabled, contact me"),e.abrupt("break",28);case 19:return A("Your environment is supported, where are you??"),e.abrupt("break",28);case 21:return A("The popup was blocked, would you mind enabling them?"),e.abrupt("break",28);case 23:return A("You closed the popup before signing in, ya dingus"),e.abrupt("break",28);case 25:return A("The app domain isn't authorised for OAuth, contact me because this isn't supposed to happen"),e.abrupt("break",28);case 27:A(e.t0.code);case 28:g(!0);case 29:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return Object(m.jsxs)("div",{className:"Sign",children:[Object(m.jsxs)("div",{className:"Sign-header",children:[Object(m.jsx)("span",{className:"fs-3 mb-2",children:"Sign In"}),Object(m.jsx)("div",{className:"Sign-header-links",children:Object(m.jsx)(S.LinkContainer,{to:"../signup",children:Object(m.jsx)(y.a,{variant:"link",className:"Link fs-5",children:"Sign up"})})})]}),Object(m.jsxs)(N.a,{className:"Sign-form",noValidate:!0,onSubmit:r(P),children:[Object(m.jsx)(q,{label:"Email Address",register:s,required:!0,type:"email",errors:n,pattern:/^\S+@\S+$/i}),Object(m.jsx)(q,{label:"Password",register:s,required:!0,type:"password",errors:n}),Object(m.jsxs)("div",{className:"Sign-password-bottom mt-2  ",children:[Object(m.jsx)(y.a,{className:"Sign-signin-button",type:"submit",children:"Sign in"}),Object(m.jsx)(S.LinkContainer,{to:"../resetpassword",className:"Signin-forgot-password",children:Object(m.jsx)(y.a,{variant:"link",className:"Link fs-5",children:"Forgot Password?"})})]})]}),Object(m.jsxs)("div",{className:"Sign-signin position-relative",children:[Object(m.jsx)("span",{className:"fs-3",children:"OR"}),Object(m.jsx)(I.a,{onClick:C,children:"Sign in with Google"}),Object(m.jsx)(E.a,{className:"position-absolute top-100 start-50 translate-middle",variant:"danger",show:h,onClose:function(){g(!1)},dismissible:!0,children:Object(m.jsx)(E.a.Heading,{children:L})})]})]})};s(71);var F=function(){var e=Object(k.a)({mode:"onBlur"}),t=e.register,s=e.formState.errors,a=e.handleSubmit,n=e.watch,r=e.setError,i=O().signUp,o=Object(c.t)(),l=function(){var e=Object(w.a)(v.a.mark((function e(t){var s,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i(t["Email Address"],t.Password);case 3:return s=e.sent,a=s.user,console.log(a),e.next=8,Object(d.l)(a,{displayName:t.Name});case 8:o("/",{replace:!0}),e.next=26;break;case 11:e.prev=11,e.t0=e.catch(0),e.t1=e.t0.code,e.next="auth/email-already-in-use"===e.t1?16:"auth/invalid-email"===e.t1?18:"auth/operation-not-allowed"===e.t1?20:"auth/weak-password"===e.t1?22:24;break;case 16:return r("Email Address",{type:"manual",message:"This email address is already in use, please use another one."},{shouldFocus:!0}),e.abrupt("break",26);case 18:return r("Email Address",{type:"manual",message:"A valid Email Address is required."},{shouldFocus:!0}),e.abrupt("break",26);case 20:return alert("Error during sign up, please contact me"),e.abrupt("break",26);case 22:return r("Password",{type:"manual",message:"Password is weak, make it stronger! "},{shouldFocus:!0}),e.abrupt("break",26);case 24:return console.log(e.t0.message),e.abrupt("break",26);case 26:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}();return Object(m.jsxs)("div",{className:"Sign",children:[Object(m.jsxs)("div",{className:"Sign-header",children:[Object(m.jsx)("span",{className:"fs-3 mb-2",children:"Sign Up"}),Object(m.jsx)("div",{className:"Sign-header-links",children:Object(m.jsx)(S.LinkContainer,{to:"../signin",children:Object(m.jsx)(y.a,{variant:"link",className:"Link fs-5",children:"Sign in"})})})]}),Object(m.jsxs)(N.a,{className:"Sign-form",noValidate:!0,onSubmit:a(l),children:[Object(m.jsx)(q,{label:"Name",register:t,required:!0,type:"text",errors:s}),Object(m.jsx)(q,{label:"Email Address",register:t,required:!0,type:"email",errors:s,pattern:/^\S+@\S+$/i}),Object(m.jsx)(q,{label:"Password",register:t,required:!0,type:"password",errors:s,minLength:"6"}),Object(m.jsx)(q,{label:"Confirm Password",register:t,required:!0,type:"password",errors:s,validate:function(e){return e===n("Password")||"Passwords do not match."}}),Object(m.jsxs)("div",{className:"Sign-password-bottom mt-2  ",children:[Object(m.jsx)(y.a,{className:"Sign-signin-button",type:"submit",children:"Sign up"}),Object(m.jsx)("div",{})]})]})]})};var U=function(){var e=Object(k.a)({mode:"onBlur"}),t=e.register,s=e.formState.errors,n=e.handleSubmit,r=e.setError,i=O().resetPassword,c=Object(a.useState)(!1),l=Object(o.a)(c,2),d=l[0],u=l[1],b=function(){var e=Object(w.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i(t["Email Address"]);case 3:u(!0),r("Email Address",{type:"success",message:"A reset password email has been sent! It might be in your junk \ud83d\udc40"},{shouldFocus:!0}),e.next=20;break;case 7:e.prev=7,e.t0=e.catch(0),e.t1=e.t0.code,e.next="auth/operation-not-allowed"===e.t1?12:"auth/user-not-found"===e.t1?14:"auth/invalid-email"===e.t1?16:18;break;case 12:return alert("Error during sign up, please contact me"),e.abrupt("break",20);case 14:return r("Email Address",{type:"manual",message:"This email address is not registered, please use another one."},{shouldFocus:!0}),e.abrupt("break",20);case 16:return r("Email Address",{type:"manual",message:"This email address is not valid, please use another one."},{shouldFocus:!0}),e.abrupt("break",20);case 18:return console.log(e.t0.message),e.abrupt("break",20);case 20:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(m.jsxs)("div",{className:"Sign",children:[Object(m.jsxs)("div",{className:"Sign-header",children:[Object(m.jsx)("span",{className:"fs-3 mb-2",children:"Reset Password"}),Object(m.jsx)("div",{})]}),Object(m.jsxs)(N.a,{className:"Sign-form",noValidate:!0,onSubmit:n(b),children:[Object(m.jsx)(q,{label:"Email Address",register:t,required:!0,type:"email",errors:s,pattern:/^\S+@\S+$/i}),Object(m.jsxs)("div",{className:"Sign-password-bottom mt-2  ",children:[Object(m.jsx)(y.a,{className:"Sign-signin-button",type:"submit",children:"Submit"}),d?Object(m.jsx)(S.LinkContainer,{to:"../signin",className:"Signin-forgot-password",children:Object(m.jsx)(y.a,{variant:"link",className:"Link fs-5",children:"Sign in"})}):""]})]})]})};s(72);var J=function(e){var t=O(),s=t.currentUser,a=t.signOut,n=Object(c.t)();function r(){return(r=Object(w.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a();case 2:n("/",{replace:!0});case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(m.jsx)("div",{className:"Home",children:Object(m.jsxs)("div",{className:"Home-contents",children:[Object(m.jsx)("div",{children:"Home"}),Object(m.jsx)("div",{children:Object(m.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(m.jsx)("div",{children:s.displayName}),Object(m.jsx)("div",{children:s.email})]})}),Object(m.jsx)("div",{className:"Sign-header-links",children:Object(m.jsx)(y.a,{variant:"link",className:"Link fs-5",onClick:function(){return r.apply(this,arguments)},children:"Sign Out"})})]})})},B=s.p+"static/media/logo.0aec9156.svg";s(73);var T=function(e){return Object(m.jsx)("div",{className:"Landing",children:Object(m.jsxs)("div",{className:"Landing-contents",children:[Object(m.jsx)("div",{className:"Landing-left",children:Object(m.jsx)("img",{src:B,className:"Landing-logo",alt:"logo"})}),Object(m.jsxs)("div",{className:"Landing-right",children:[Object(m.jsx)("p",{children:"Share QR codes with your friends and family"}),Object(m.jsx)(c.c,{})]})]})})};var R=function(){return Object(m.jsx)("div",{className:"d-flex justify-content-center align-items-center min-vh-100",children:Object(m.jsxs)("div",{className:"d-flex flex-column justify-content-center ",children:[Object(m.jsx)("h1",{className:"text-white",children:"Error! Page not found."}),Object(m.jsx)(S.LinkContainer,{to:"/home",children:Object(m.jsx)(y.a,{variant:"link",className:"Link fs-2",children:"Go home"})})]})})};function H(e){var t=e.children;return O().currentUser?t:Object(m.jsx)(c.b,{to:"/landing"})}function V(e){var t=e.children;return O().currentUser?Object(m.jsx)(c.b,{to:"/home"}):t}var D=function(e){return Object(m.jsx)("div",{children:Object(m.jsx)(x,{children:Object(m.jsxs)(c.f,{children:[Object(m.jsx)(c.d,{index:!0,element:Object(m.jsx)(c.b,{replace:!0,to:"home"})}),Object(m.jsx)(c.d,{path:"home",element:Object(m.jsx)(H,{children:Object(m.jsx)(J,{})})}),Object(m.jsxs)(c.d,{path:"landing",element:Object(m.jsx)(V,{children:Object(m.jsx)(T,{})}),children:[Object(m.jsx)(c.d,{index:!0,element:Object(m.jsx)(c.b,{replace:!0,to:"signin"})}),Object(m.jsx)(c.d,{path:"signin",element:Object(m.jsx)(C,{})}),Object(m.jsx)(c.d,{path:"signup",element:Object(m.jsx)(F,{})}),Object(m.jsx)(c.d,{path:"resetpassword",element:Object(m.jsx)(U,{})})]}),Object(m.jsx)(c.d,{path:"*",element:Object(m.jsx)(R,{})})]})})})},M=s(29),Y=s(43),$=Object(Y.a)(j),z=Object(Y.c)($,"Users/1/name"),G="";Object(Y.b)(z,(function(e){G=e.val(),console.log(G)})),console.log(G),console.log($),i.a.render(Object(m.jsx)(n.a.StrictMode,{children:Object(m.jsx)(M.BrowserRouter,{basename:"/qr-sharing-app",children:Object(m.jsx)(c.f,{children:Object(m.jsx)(c.d,{path:"/*",element:Object(m.jsx)(D,{})})})})}),document.getElementById("root"))}},[[75,1,2]]]);
//# sourceMappingURL=main.07ecce20.chunk.js.map