(this["webpackJsonpqr-sharing"]=this["webpackJsonpqr-sharing"]||[]).push([[0],{41:function(module,__webpack_exports__,__webpack_require__){"use strict";var _home_runner_work_qr_sharing_app_qr_sharing_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(9),_home_runner_work_qr_sharing_app_qr_sharing_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(12),_CollapsibleButton_css__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(86),_CollapsibleButton_css__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_CollapsibleButton_css__WEBPACK_IMPORTED_MODULE_2__),react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(3),react__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__),react_bootstrap_Collapse__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(51),_ConditionalWrapper_ConditionalWrapper__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(63),react_router_bootstrap__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(21),react_router_bootstrap__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(react_router_bootstrap__WEBPACK_IMPORTED_MODULE_6__),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(1),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__),_excluded=["parentClassName","startOpen","buttonName","children","conditionalStatement","buttonLink","sendOpenValue"],CollapsibleButton=function CollapsibleButton(_ref){var parentClassName=_ref.parentClassName,_ref$startOpen=_ref.startOpen,startOpen=void 0!==_ref$startOpen&&_ref$startOpen,buttonName=_ref.buttonName,children=_ref.children,_ref$conditionalState=_ref.conditionalStatement,conditionalStatement=void 0===_ref$conditionalState?null:_ref$conditionalState,_ref$buttonLink=_ref.buttonLink,buttonLink=void 0===_ref$buttonLink?null:_ref$buttonLink,_ref$sendOpenValue=_ref.sendOpenValue,sendOpenValue=void 0===_ref$sendOpenValue?null:_ref$sendOpenValue,props=Object(_home_runner_work_qr_sharing_app_qr_sharing_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__.a)(_ref,_excluded),_useState=Object(react__WEBPACK_IMPORTED_MODULE_3__.useState)(startOpen),_useState2=Object(_home_runner_work_qr_sharing_app_qr_sharing_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__.a)(_useState,2),open=_useState2[0],setOpen=_useState2[1],ButtonSrc=props.buttonSrc;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsxs)("div",{className:"collapsible-button-parent ".concat(parentClassName),children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_ConditionalWrapper_ConditionalWrapper__WEBPACK_IMPORTED_MODULE_5__.a,{condition:buttonLink&&eval(conditionalStatement),wrapper:function(e){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(react_router_bootstrap__WEBPACK_IMPORTED_MODULE_6__.LinkContainer,{to:buttonLink,children:e})},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(ButtonSrc,{className:"collapsible-button",onClick:function(){setOpen(!open),sendOpenValue&&sendOpenValue(open),sendOpenValue&&console.log("open "+open)},role:"button","aria-controls":"example-collapse-text","aria-expanded":open,children:buttonName})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)("div",{className:"collapsible-button-div",style:{minLength:"1px"},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(react_bootstrap_Collapse__WEBPACK_IMPORTED_MODULE_4__.a,{className:"collapsible-button-content",in:open,appear:!0,children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)("div",{className:"collapsible-children",children:children})})})]})};__webpack_exports__.a=CollapsibleButton},63:function(e,t,r){"use strict";t.a=function(e){var t=e.condition,r=e.wrapper,a=e.children;return t?r(a):a}},69:function(e,t,r){},70:function(e,t,r){},74:function(e,t,r){},82:function(e,t,r){},83:function(e,t,r){},84:function(e,t,r){},85:function(e,t,r){},86:function(e,t,r){},87:function(e,t,r){},88:function(e,t,r){"use strict";r.r(t);var a=r(3),n=r.n(a),s=r(36),c=r.n(s),i=(r(69),r(70),r(15)),o=r(0),u=r.n(o),l=r(4),d=r(9),b=r(60),p=r(13),j=r(25),m=JSON.stringify('{"apiKey":"AIzaSyADeSL15ag31ofb_AKNjLeyIhJnU85j9Qk","authDomain":"qr-sharing-bfd1c.firebaseapp.com","projectId":"qr-sharing-bfd1c","storageBucket":"qr-sharing-bfd1c.appspot.com","messagingSenderId":"428316652870","appId":"1:428316652870:web:fea94b6959e24d47ab6147","databaseURL": "https://qr-sharing-bfd1c-default-rtdb.europe-west1.firebasedatabase.app/"}'),O=JSON.parse(JSON.parse(m)),h=Object(b.a)(O),_=Object(j.d)(h),x=Object(p.c)(h),f=function(){var e=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(p.m)(Object(p.k)(x,"users/".concat(_.currentUser.uid)),{username:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(l.a)(u.a.mark((function e(t){var r,a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(p.j)(Object(p.a)(Object(p.k)(x),"groups")).key,(a={})["/users/".concat(_.currentUser.uid,"/groups/").concat(r)]=!0,a["/groups/".concat(r,"/name")]=t,e.next=6,Object(p.n)(Object(p.k)(x),a);case 6:return n=e.sent,e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(l.a)(u.a.mark((function e(t){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(p.b)(Object(p.a)(Object(p.k)(x),"groups/".concat(t,"/name")));case 2:return r=e.sent,e.abrupt("return",r.val());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(l.a)(u.a.mark((function e(t){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(p.b)(Object(p.a)(Object(p.k)(x),"/users/".concat(_.currentUser.uid,"/groups/").concat(t)));case 2:return r=e.sent,e.abrupt("return",r.val());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(l.a)(u.a.mark((function e(t,r){var a,n,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a={})["/groups/".concat(t,"/name")]=r,e.next=4,Object(p.b)(Object(p.a)(Object(p.k)(x),"/nameChange/"));case 4:return e.next=6,e.sent.val();case 6:return n=e.sent,a["/nameChange/"]=!n,e.next=10,Object(p.n)(Object(p.k)(x),a);case 10:return s=e.sent,e.abrupt("return",s);case 12:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),k=function(){var e=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(p.l)(Object(p.k)(x,"/groups/".concat(t)));case 2:return e.next=4,Object(p.l)(Object(p.k)(x,"/users/".concat(_.currentUser.uid,"/groups/").concat(t)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=r(1),y=n.a.createContext(),S=new j.a;function P(){return Object(a.useContext)(y)}function C(e){var t=e.children,r=Object(a.useState)(),n=Object(d.a)(r,2),s=n[0],c=n[1],i=Object(a.useState)(),o=Object(d.a)(i,2),b=o[0],p=o[1],m=Object(a.useState)(),O=Object(d.a)(m,2),h=O[0],x=O[1],f=Object(a.useState)(!0),g=Object(d.a)(f,2),v=g[0],w=g[1];function N(e,t){return Object(j.b)(_,e,t)}function k(){return k=Object(l.a)(u.a.mark((function e(t,r,a){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N(t,r);case 2:return n=e.sent,e.next=5,Object(j.l)(n.user,{displayName:a});case 5:return e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)}))),k.apply(this,arguments)}Object(a.useEffect)((function(){var e=Object(j.e)(_,(function(e){c(e),e&&(p(e.displayName),x(e.email)),w(!1)}));return function(){return e()}}),[]);var P={currentUser:s,userName:b,email:h,setUserName:p,setEmail:x,signIn:function(e,t){return Object(j.g)(_,e,t)},signInPopup:function(){return Object(j.h)(_,S)},signUpAndUpdateName:function(e,t,r){return k.apply(this,arguments)},signOut:function(){return Object(j.i)(_)},resetPassword:function(e){return Object(j.f)(_,e)},updateEmail:function(e){return Object(j.j)(s,e)},updatePassword:function(e){return Object(j.k)(s,e)},updateName:function(e){return Object(j.l)(s,{displayName:e})}};return Object(E.jsx)(y.Provider,{value:P,children:!v&&t})}r(74);var D=r(33),L=r(21),A=r(16),M=r(27),U=r(56),I=r(8),q=r(44),B=function(e){var t,r,a,n,s=e.label,c=e.register,i=e.required,o=e.type,u=e.errors,l=e.maxLength,d=void 0===l?50:l,b=e.minLength,p=void 0===b?0:b,j=e.pattern,m=e.validate,O=e.hide,h=e.className;return Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)(q.a,{controlId:s,label:!0===i?"".concat(s,"*"):s,className:"mb-3 me-3"+h,style:{visibility:!0===O?"hidden":void 0},children:[Object(E.jsx)(M.a.Control,Object(I.a)(Object(I.a)({},c(s,{maxLength:{value:d,message:"Maximum length is ".concat(d)},minLength:{value:p,message:"Minimum length is ".concat(p)},required:{value:i,message:"".concat(s," is required")},pattern:{value:j,message:"A valid ".concat(s," is required")},validate:m})),{},{type:o,placeholder:s,isInvalid:u[s]&&"success"!==u[s].type,isValid:u[s]&&"success"===u[s].type})),Object(E.jsx)(M.a.Control.Feedback,{type:"invalid",className:"Sign-feedback-text mt-1",children:"success"!==(null===(t=u[s])||void 0===t?void 0:t.type)?null===(r=u[s])||void 0===r?void 0:r.message:""}),Object(E.jsx)(M.a.Control.Feedback,{type:"valid",className:"Sign-feedback-text mt-1",children:"success"===(null===(a=u[s])||void 0===a?void 0:a.type)?null===(n=u[s])||void 0===n?void 0:n.message:""})]})})},T=r(61),R=r.n(T);var W=function(e){var t=Object(D.a)({mode:"onBlur"}),r=t.register,n=t.formState.errors,s=t.handleSubmit,c=t.setError,i=P(),o=i.signIn,b=i.signInPopup,p=Object(a.useState)(!1),m=Object(d.a)(p,2),O=m[0],h=m[1],_=Object(a.useState)(""),x=Object(d.a)(_,2),g=x[0],v=x[1],w=function(){var e=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o(t["Email Address"],t.Password);case 3:e.next=19;break;case 5:e.prev=5,e.t0=e.catch(0),e.t1=e.t0.code,e.next="auth/user-not-found"===e.t1?10:"auth/operation-not-allowed"===e.t1?12:"auth/wrong-password"===e.t1?14:16;break;case 10:return c("Email Address",{type:"manual",message:"This email address is not registered, please use another one."},{shouldFocus:!0}),e.abrupt("break",19);case 12:return alert(e.t0.message,"Error during sign in, please contact me"),e.abrupt("break",19);case 14:return c("Password",{type:"manual",message:"Password is wrong, please try again. "},{shouldFocus:!0}),e.abrupt("break",19);case 16:return console.log(e.t0.message),alert(e.t0.message,"Error during sign in, please contact me"),e.abrupt("break",19);case 19:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(l.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b();case 3:if(t=e.sent,!Object(j.c)(t).isNewUser){e.next=14;break}return e.prev=6,e.next=9,f(t.user.uid,t.user.displayName);case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(6),console.log(e.t0);case 14:e.next=39;break;case 16:e.prev=16,e.t1=e.catch(0),e.t2=e.t1.code,e.next="auth/account-exists-with-different-credential"===e.t2?21:"auth/auth-domain-config-required"===e.t2?23:"auth/cancelled-popup-request"===e.t2?25:"auth/operation-not-allowed"===e.t2?27:"auth/operation-not-supported-in-this-environment"===e.t2?29:"auth/popup-blocked"===e.t2?31:"auth/popup-closed-by-user"===e.t2?33:"auth/unauthorized-domain"===e.t2?35:37;break;case 21:return v("An account already exists with this email, contact me because this isn't supposed to happen"),e.abrupt("break",38);case 23:return v("Auth domain config not provided. I don't know what that means either, but contact me because this isn't supposed to happen"),e.abrupt("break",38);case 25:return v("Only one popup request is allowed at a time, maybe stop pressing the button?"),e.abrupt("break",38);case 27:return v("Your account isn't enabled, contact me"),e.abrupt("break",38);case 29:return v("Your environment is supported, where are you??"),e.abrupt("break",38);case 31:return v("The popup was blocked, would you mind enabling them?"),e.abrupt("break",38);case 33:return v("You closed the popup before signing in, ya dingus"),e.abrupt("break",38);case 35:return v("The app domain isn't authorised for OAuth, contact me because this isn't supposed to happen"),e.abrupt("break",38);case 37:v(e.t1.code);case 38:h(!0);case 39:case"end":return e.stop()}}),e,null,[[0,16],[6,11]])})));return function(){return e.apply(this,arguments)}}();return Object(E.jsxs)("div",{className:"Sign",children:[Object(E.jsxs)("div",{className:"Sign-header",children:[Object(E.jsx)("span",{className:"fs-3 mb-2",children:"Sign In"}),Object(E.jsx)("div",{className:"Sign-header-links",children:Object(E.jsx)(L.LinkContainer,{to:"../signup",children:Object(E.jsx)(A.a,{variant:"link",className:"Link fs-5",children:"Sign up"})})})]}),Object(E.jsxs)(M.a,{className:"Sign-form",noValidate:!0,onSubmit:s(w),children:[Object(E.jsx)(B,{label:"Email Address",register:r,required:!0,type:"email",errors:n,pattern:/^\S+@\S+$/i}),Object(E.jsx)(B,{label:"Password",register:r,required:!0,type:"password",errors:n}),Object(E.jsxs)("div",{className:"Sign-password-bottom mt-2  ",children:[Object(E.jsx)(A.a,{className:"Sign-signin-button",type:"submit",children:"Sign in"}),Object(E.jsx)(L.LinkContainer,{to:"../resetpassword",className:"Signin-forgot-password",children:Object(E.jsx)(A.a,{variant:"link",className:"Link fs-5",children:"Forgot Password?"})})]})]}),Object(E.jsxs)("div",{className:"Sign-signin position-relative",children:[Object(E.jsx)("span",{className:"fs-3",children:"OR"}),Object(E.jsx)(R.a,{onClick:N,children:"Sign in with Google"}),Object(E.jsx)(U.a,{className:"position-absolute top-100 start-50 translate-middle",variant:"danger",show:O,onClose:function(){h(!1)},dismissible:!0,children:Object(E.jsx)(U.a.Heading,{children:g})})]})]})};r(82);var K=function(){var e=Object(D.a)({mode:"onBlur"}),t=e.register,r=e.formState.errors,a=e.handleSubmit,n=e.watch,s=e.setError,c=P(),i=c.signUpAndUpdateName,o=c.setUserName,d=function(){var e=Object(l.a)(u.a.mark((function e(t){var r,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i(t["Email Address"],t.Password,t.Name);case 3:return r=e.sent,o(t.Name),a=r.user,e.next=8,f(a.uid,t.Name);case 8:e.next=25;break;case 10:e.prev=10,e.t0=e.catch(0),e.t1=e.t0.code,e.next="auth/email-already-in-use"===e.t1?15:"auth/invalid-email"===e.t1?17:"auth/operation-not-allowed"===e.t1?19:"auth/weak-password"===e.t1?21:23;break;case 15:return s("Email Address",{type:"manual",message:"This email address is already in use, please use another one."},{shouldFocus:!0}),e.abrupt("break",25);case 17:return s("Email Address",{type:"manual",message:"A valid Email Address is required."},{shouldFocus:!0}),e.abrupt("break",25);case 19:return alert("Error during sign up, please contact me"),e.abrupt("break",25);case 21:return s("Password",{type:"manual",message:"Password is weak, make it stronger! "},{shouldFocus:!0}),e.abrupt("break",25);case 23:return console.log(e.t0.message),e.abrupt("break",25);case 25:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(E.jsxs)("div",{className:"Sign",children:[Object(E.jsxs)("div",{className:"Sign-header",children:[Object(E.jsx)("span",{className:"fs-3 mb-2",children:"Sign Up"}),Object(E.jsx)("div",{className:"Sign-header-links",children:Object(E.jsx)(L.LinkContainer,{to:"../signin",children:Object(E.jsx)(A.a,{variant:"link",className:"Link fs-5",children:"Sign in"})})})]}),Object(E.jsxs)(M.a,{className:"Sign-form",noValidate:!0,onSubmit:a(d),children:[Object(E.jsx)(B,{label:"Name",register:t,required:!0,type:"text",errors:r}),Object(E.jsx)(B,{label:"Email Address",register:t,required:!0,type:"email",errors:r,pattern:/^\S+@\S+$/i}),Object(E.jsx)(B,{label:"Password",register:t,required:!0,type:"password",errors:r,minLength:"6"}),Object(E.jsx)(B,{label:"Confirm Password",register:t,required:!0,type:"password",errors:r,validate:function(e){return e===n("Password")||"Passwords do not match."}}),Object(E.jsxs)("div",{className:"Sign-password-bottom mt-2  ",children:[Object(E.jsx)(A.a,{className:"Sign-signin-button",type:"submit",children:"Sign up"}),Object(E.jsx)("div",{})]})]})]})};var F=function(){var e=Object(D.a)({mode:"onBlur"}),t=e.register,r=e.formState.errors,a=e.handleSubmit,n=e.setError,s=P().resetPassword,c=function(){var e=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s(t["Email Address"]);case 3:n("Email Address",{type:"success",message:"A reset password email has been sent! It might be in your junk \ud83d\udc40"},{shouldFocus:!0}),e.next=19;break;case 6:e.prev=6,e.t0=e.catch(0),e.t1=e.t0.code,e.next="auth/operation-not-allowed"===e.t1?11:"auth/user-not-found"===e.t1?13:"auth/invalid-email"===e.t1?15:17;break;case 11:return alert("Error during sign up, please contact me"),e.abrupt("break",19);case 13:return n("Email Address",{type:"manual",message:"This email address is not registered, please use another one."},{shouldFocus:!0}),e.abrupt("break",19);case 15:return n("Email Address",{type:"manual",message:"This email address is not valid, please use another one."},{shouldFocus:!0}),e.abrupt("break",19);case 17:return console.log(e.t0.message),e.abrupt("break",19);case 19:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}();return Object(E.jsxs)("div",{className:"Sign",children:[Object(E.jsxs)("div",{className:"Sign-header",children:[Object(E.jsx)("span",{className:"fs-3 mb-2",children:"Reset Password"}),Object(E.jsx)("div",{})]}),Object(E.jsxs)(M.a,{className:"Sign-form",noValidate:!0,onSubmit:a(c),children:[Object(E.jsx)(B,{label:"Email Address",register:t,required:!0,type:"email",errors:r,pattern:/^\S+@\S+$/i}),Object(E.jsxs)("div",{className:"Sign-password-bottom mt-2  ",children:[Object(E.jsx)(A.a,{className:"Sign-signin-button",type:"submit",children:"Submit"}),Object(E.jsx)(L.LinkContainer,{to:"../signin",className:"Signin-forgot-password",children:Object(E.jsx)(A.a,{variant:"link",className:"Link fs-5",children:"Sign in"})})]})]})]})},V=(r(83),r(84),r(12)),$=(r(85),r(51)),G=["startOpen","buttonName","children"],H=function(e){var t=e.startOpen,r=e.buttonName,n=e.children,s=Object(V.a)(e,G),c=Object(a.useState)(t),i=Object(d.a)(c,2),o=i[0],u=i[1],l=s.buttonSrc;return Object(E.jsxs)("div",{className:"collapsible-bar",children:[Object(E.jsx)(l,{className:"collapsible-bar-button",onClick:function(){return u(!o)},role:"button","aria-controls":"example-collapse-text","aria-expanded":o,children:r}),Object(E.jsx)("div",{className:"collapsible-bar-content",style:{minHeight:"1px",margin:"0",padding:"0"},children:Object(E.jsx)($.a,{in:o,appear:!0,dimension:"width",children:Object(E.jsx)("div",{className:"collapsible-bar-children",children:n})})})]})},J=r.p+"static/media/logo.0aec9156.svg",Y=r(41),z=r(18),Q=r(55),X=function(){var e=P().currentUser,t=Object(a.useState)([]),r=Object(d.a)(t,2),n=r[0],s=r[1],c=function(){var e=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),e.t0=t.target[0].value,!e.t0){e.next=5;break}return e.next=5,g(t.target[0].value);case 5:t.target.reset();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i=Object(Q.a)(Object(p.k)(x,"users/".concat(e.uid,"/groups/"))),o=Object(d.a)(i,2)[0],b=Object(Q.b)(Object(p.k)(x,"nameChange")),j=Object(d.a)(b,2)[0];return Object(a.useEffect)((function(){var e=function(){var e=Object(l.a)(u.a.mark((function e(){var t,r,a,n,c,i,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,t=[],r=0,a=Object.entries(o);case 3:if(!(r<a.length)){e.next=15;break}return n=Object(d.a)(a[r],2),c=n[1],e.next=7,v(c);case 7:return i=e.sent,e.next=10,w(c);case 10:l=e.sent,t=[].concat(Object(z.a)(t),[{value:c,groupName:i,admin:l}]);case 12:r++,e.next=3;break;case 15:return e.abrupt("return",s(t));case 18:e.prev=18,e.t0=e.catch(0),console.log(e.t0);case 21:case"end":return e.stop()}}),e,null,[[0,18]])})));return function(){return e.apply(this,arguments)}}();e()}),[o,j]),Object(E.jsxs)(E.Fragment,{children:[n.map((function(e){return Object(E.jsxs)(Y.a,{buttonName:e.groupName,startOpen:!1,conditionalStatement:"open === false",buttonLink:"group/".concat(e.value),buttonSrc:function(e){return Object(E.jsx)(A.a,Object(I.a)({},e))},children:[Object(E.jsx)(L.LinkContainer,{to:"group/".concat(e.value,"/codes"),children:Object(E.jsx)(A.a,{className:"final",children:"Codes"})}),Object(E.jsx)(L.LinkContainer,{to:"group/".concat(e.value,"/members"),children:Object(E.jsx)(A.a,{className:"final",children:"Members"})}),e.admin?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(L.LinkContainer,{to:"group/".concat(e.value,"/invites"),children:Object(E.jsx)(A.a,{className:"final",children:"Invites"})}),Object(E.jsx)(L.LinkContainer,{to:"group/".concat(e.value,"/edit-group"),children:Object(E.jsx)(A.a,{className:"final",children:"Edit Group"})})]}):Object(E.jsx)(E.Fragment,{})]},e.value)})),Object(E.jsxs)("form",{onSubmit:c,style:{display:"flex"},children:[Object(E.jsx)("input",{type:"text",placeholder:"Create new group",maxLength:"50",className:"sidebar-text-input"}),Object(E.jsx)("input",{type:"submit",value:"+"})]})]})},Z=function(){var e=P(),t=e.userName,r=e.email;return Object(E.jsx)("div",{className:"sidebar",children:Object(E.jsxs)(H,{startOpen:!0,buttonSrc:function(e){return Object(E.jsx)("img",Object(I.a)(Object(I.a)({},e),{},{src:J,alt:"logo"}))},children:[Object(E.jsx)("div",{className:"empty-space"}),Object(E.jsx)(L.LinkContainer,{to:"/home/homepage",children:Object(E.jsx)(A.a,{className:"sidebar-button sidebar-border-top",children:"Home"})}),Object(E.jsx)(Y.a,{parentClassName:"collapsible-border-bottom",buttonName:"Groups",startOpen:!0,buttonSrc:function(e){return Object(E.jsx)(A.a,Object(I.a)({},e))},children:Object(E.jsx)(X,{})}),Object(E.jsxs)(Y.a,{parentClassName:"collapsible-border-bottom",buttonName:"Profile",startOpen:!1,buttonSrc:function(e){return Object(E.jsx)(A.a,Object(I.a)({},e))},children:[Object(E.jsx)("div",{className:"h5 final",children:t}),Object(E.jsx)("div",{className:"h5 final",children:r}),Object(E.jsx)(L.LinkContainer,{to:"/home/edit-profile",children:Object(E.jsx)(A.a,{className:"sidebar-button sidebar-border-top final",children:"Edit Profile"})}),Object(E.jsx)(A.a,{className:"final",children:"My Codes"})]}),Object(E.jsx)("div",{className:"empty-space"})]})})};var ee=function(){return Object(E.jsxs)("div",{className:"Home",children:[Object(E.jsx)(Z,{}),Object(E.jsx)("div",{className:"Home-contents",children:Object(E.jsx)(i.c,{})})]})};r(87);var te=function(e){return Object(E.jsx)("div",{className:"Landing",children:Object(E.jsxs)("div",{className:"Landing-contents",children:[Object(E.jsx)("div",{className:"Landing-left",children:Object(E.jsx)("img",{src:J,className:"Landing-logo",alt:"logo"})}),Object(E.jsxs)("div",{className:"Landing-right",children:[Object(E.jsx)("p",{children:"Share QR codes with your friends and family"}),Object(E.jsx)(i.c,{})]})]})})};var re=function(){return Object(E.jsx)("div",{className:"d-flex justify-content-center align-items-center min-vh-100",children:Object(E.jsxs)("div",{className:"d-flex flex-column justify-content-center ",children:[Object(E.jsx)("h1",{className:"text-white",children:"Error! Page not found."}),Object(E.jsx)(L.LinkContainer,{to:"/home",children:Object(E.jsx)(A.a,{variant:"link",className:"Link fs-2",children:"Go home"})})]})})};function ae(e){var t=e.children;return P().currentUser?t:Object(E.jsx)(i.b,{to:"/landing"})}function ne(e){var t=e.children;return P().currentUser?Object(E.jsx)(i.b,{to:"/home"}):t}var se=["children"],ce=n.a.createContext();function ie(){return Object(a.useContext)(ce)}function oe(e){var t=e.children,r=(Object(V.a)(e,se),Object(i.r)()),n=Object(a.useState)(),s=Object(d.a)(n,2),c=s[0],o=s[1],b=Object(a.useState)(r.pathname.split("/").reverse()[1]),p=Object(d.a)(b,2),j=p[0],m=p[1],O=Object(a.useState)(),h=Object(d.a)(O,2),_=h[0],x=h[1],f=Object(a.useState)(),g=Object(d.a)(f,1)[0],k=Object(a.useState)(),y=Object(d.a)(k,1)[0],S=Object(a.useState)(!0),P=Object(d.a)(S,2),C=P[0],D=P[1];j!==r.pathname.split("/").reverse()[1]&&m(r.pathname.split("/").reverse()[1]);Object(a.useEffect)((function(){var e=function(){var e=Object(l.a)(u.a.mark((function e(t){var r,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w(t);case 3:return r=e.sent,x(r),e.next=7,v(t);case 7:a=e.sent,o(a),D(!1),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}();return e(j)}),[j]);var L={groupName:c,setGroupName:o,groupValue:j,admin:_,members:g,codes:y,loading:C,updateGroupName:function(e){return N(j,e)}};return Object(E.jsx)(ce.Provider,{value:L,children:!C&&t})}var ue=function(e){var t=e.children,r=ie(),a=r.groupValue;return r.admin?t:Object(E.jsx)(i.b,{to:"/home/group/".concat(a)})},le=function(){var e=P(),t=e.userName,r=e.email,a=e.signOut;function n(){return(n=Object(l.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a();case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("div",{children:"Home"}),Object(E.jsx)("div",{children:Object(E.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(E.jsx)("div",{children:t}),Object(E.jsx)("div",{children:r})]})}),Object(E.jsx)("div",{className:"Sign-header-links",children:Object(E.jsx)(A.a,{variant:"link",className:"Link fs-5",onClick:function(){return n.apply(this,arguments)},children:"Sign Out"})})]})},de=function(){var e=P(),t=e.updateEmail,r=e.updatePassword,a=e.updateName,n=e.setEmail,s=e.setUserName;function c(e){return i.apply(this,arguments)}function i(){return(i=Object(l.a)(u.a.mark((function e(r){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t(r);case 3:n(r),f("New Email Address",""),f("Confirm New Email Address",""),x("New Email Address",{type:"success",message:"Email Address changed!"}),e.next=22;break;case 9:e.prev=9,e.t0=e.catch(0),e.t1=e.t0.code,e.next="auth/email-already-in-use"===e.t1?14:"auth/invalid-email"===e.t1?16:"auth/operation-not-allowed"===e.t1?18:20;break;case 14:return x("New Email Address",{type:"manual",message:"This email address is already in use, please use another one."},{shouldFocus:!0}),e.abrupt("break",22);case 16:return x("New Email Address",{type:"manual",message:"A valid Email Address is required."},{shouldFocus:!0}),e.abrupt("break",22);case 18:return alert("Error during email update, please contact me"),e.abrupt("break",22);case 20:return console.log(e.t0.message),e.abrupt("break",22);case 22:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function o(e){return d.apply(this,arguments)}function d(){return(d=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r(t);case 3:f("New Password",""),f("Confirm New Password",""),x("New Password",{type:"success",message:"Password changed!"}),e.next=19;break;case 8:e.prev=8,e.t0=e.catch(0),e.t1=e.t0.code,e.next="auth/operation-not-allowed"===e.t1?13:"auth/weak-password"===e.t1?15:17;break;case 13:return alert("Error during password update, please contact me"),e.abrupt("break",19);case 15:return x("New Password",{type:"manual",message:"Password is weak, make it stronger! "},{shouldFocus:!0}),e.abrupt("break",19);case 17:return console.log(e.t0.message),e.abrupt("break",19);case 19:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function b(e){return p.apply(this,arguments)}function p(){return(p=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a(t);case 3:s(t),f("New Name",""),f("Confirm New Name",""),x("New Name",{type:"success",message:"Name changed!"}),e.next=18;break;case 9:e.prev=9,e.t0=e.catch(0),e.t1=e.t0.code,e.next="auth/operation-not-allowed"===e.t1?14:16;break;case 14:return alert("Error during name update, please contact me"),e.abrupt("break",18);case 16:return console.log(e.t0.message),e.abrupt("break",18);case 18:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}var j=Object(D.a)({mode:"onBlur"}),m=j.register,O=j.formState.errors,h=j.handleSubmit,_=j.watch,x=j.setError,f=j.setValue,g=function(){var e=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t["New Name"]){e.next=3;break}return e.next=3,b(t["New Name"]);case 3:if(!t["New Email Address"]){e.next=6;break}return e.next=6,c(t["New Email Address"]);case 6:if(!t["New Password"]){e.next=9;break}return e.next=9,o(t["New Password"]);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)("div",{className:"Sign w-50",children:[Object(E.jsx)("div",{className:"Sign-header",children:Object(E.jsx)("span",{className:"fs-3 mb-2",children:"Edit Profile"})}),Object(E.jsxs)(M.a,{className:"Sign-form ",noValidate:!0,onSubmit:h(g),children:[Object(E.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(E.jsx)(B,{label:"New Name",register:m,type:"text",errors:O,className:" w-50"}),Object(E.jsx)(B,{label:"Confirm New Name",register:m,type:"text",hide:""===_("New Name",""),required:""!==_("New Name"),validate:function(e){return e===_("New Name")||"Names do not match."},errors:O,className:" w-50"})]}),Object(E.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(E.jsx)(B,{label:"New Email Address",register:m,type:"email",errors:O,pattern:/^\S+@\S+$/i,className:" w-50"}),Object(E.jsx)(B,{label:"Confirm New Email Address",register:m,type:"text",hide:""===_("New Email Address",""),required:""!==_("New Email Address"),validate:function(e){return e===_("New Email Address")||"Emails do not match."},errors:O,className:" w-50"})]}),Object(E.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(E.jsx)(B,{label:"New Password",register:m,type:"password",errors:O,minLength:"6",className:" w-50"}),Object(E.jsx)(B,{label:"Confirm New Password",register:m,type:"password",errors:O,hide:""===_("New Password",""),required:""!==_("New Password"),validate:function(e){return e===_("New Password")||"Passwords do not match."},className:" w-50"})]}),Object(E.jsx)("div",{className:"Sign-password-bottom mt-2  ",children:Object(E.jsx)(A.a,{className:"Sign-signin-button",type:"submit",children:"Update"})})]})]})})},be=function(){var e=ie(),t=e.groupName,r=e.groupValue;return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("div",{children:"Codes"}),Object(E.jsx)("div",{children:Object(E.jsx)("div",{style:{display:"flex",flexDirection:"column"},children:Object(E.jsx)("div",{children:t})})}),Object(E.jsx)("div",{className:"Sign-header-links",children:Object(E.jsx)(A.a,{onClick:Object(l.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k(r);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])}))),children:"Remove Group"})})]})},pe=function(){var e=ie().groupName,t=Object(i.w)(),r=Object(i.t)();return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("div",{children:"Members"}),Object(E.jsx)("div",{children:Object(E.jsx)("div",{style:{display:"flex",flexDirection:"column"},children:Object(E.jsx)("div",{children:e})})}),Object(E.jsx)("div",{className:"Sign-header-links",children:Object(E.jsx)(A.a,{onClick:Object(l.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k(t.groupID);case 3:r("/home/homepage",{replace:!0}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])}))),children:"Remove Group"})})]})},je=function(){var e=ie().groupName,t=Object(i.w)(),r=Object(i.t)();return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("div",{children:"Invites"}),Object(E.jsx)("div",{children:Object(E.jsx)("div",{style:{display:"flex",flexDirection:"column"},children:Object(E.jsx)("div",{children:e})})}),Object(E.jsx)("div",{className:"Sign-header-links",children:Object(E.jsx)(A.a,{onClick:Object(l.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k(t.groupID);case 3:r("/home/homepage",{replace:!0}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])}))),children:"Remove Group"})})]})},me=function(){var e=ie(),t=e.groupName,r=e.updateGroupName,a=e.setGroupName;function n(e){return s.apply(this,arguments)}function s(){return(s=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r(t);case 3:a(t),j("New Name",""),j("Confirm New Name",""),p("New Name",{type:"success",message:"Name changed!"}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}var c=Object(D.a)({mode:"onBlur"}),i=c.register,o=c.formState.errors,d=c.handleSubmit,b=c.watch,p=c.setError,j=c.setValue,m=function(){var e=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t["New Name"]){e.next=3;break}return e.next=3,n(t["New Name"]);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)("div",{className:"Sign w-50",children:[Object(E.jsx)("div",{className:"Sign-header",children:Object(E.jsxs)("span",{className:"fs-3 mb-2",children:["Edit Group - ",t]})}),Object(E.jsxs)(M.a,{className:"Sign-form ",noValidate:!0,onSubmit:d(m),children:[Object(E.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(E.jsx)(B,{label:"New Name",register:i,type:"text",errors:o,className:" w-50"}),Object(E.jsx)(B,{label:"Confirm New Name",register:i,type:"text",hide:""===b("New Name",""),required:""!==b("New Name"),validate:function(e){return e===b("New Name")||"Names do not match."},errors:o,className:" w-50"})]}),Object(E.jsx)("div",{className:"Sign-password-bottom mt-2  ",children:Object(E.jsx)(A.a,{className:"Sign-signin-button",type:"submit",children:"Update"})})]})]})})};var Oe=function(e){return Object(E.jsx)("div",{children:Object(E.jsx)(C,{children:Object(E.jsxs)(i.f,{children:[Object(E.jsx)(i.d,{index:!0,element:Object(E.jsx)(i.b,{replace:!0,to:"home"})}),Object(E.jsxs)(i.d,{path:"home",element:Object(E.jsx)(ae,{children:Object(E.jsx)(ee,{})}),children:[Object(E.jsx)(i.d,{index:!0,element:Object(E.jsx)(i.b,{replace:!0,to:"homepage"})}),Object(E.jsx)(i.d,{path:"homepage",element:Object(E.jsx)(le,{})}),Object(E.jsx)(i.d,{path:"edit-profile",element:Object(E.jsx)(de,{})}),Object(E.jsxs)(i.d,{path:"group/:groupID",children:[Object(E.jsx)(i.d,{index:!0,element:Object(E.jsx)(i.b,{replace:!0,to:"codes"})}),Object(E.jsx)(i.d,{path:"codes",element:Object(E.jsx)(oe,{children:Object(E.jsx)(be,{})})}),Object(E.jsx)(i.d,{path:"members",element:Object(E.jsx)(oe,{children:Object(E.jsx)(pe,{})})}),Object(E.jsx)(i.d,{path:"invites",element:Object(E.jsx)(oe,{children:Object(E.jsx)(ue,{children:Object(E.jsx)(je,{})})})}),Object(E.jsx)(i.d,{path:"edit-group",element:Object(E.jsx)(oe,{children:Object(E.jsx)(ue,{children:Object(E.jsx)(me,{})})})})]})]}),Object(E.jsxs)(i.d,{path:"landing",element:Object(E.jsx)(ne,{children:Object(E.jsx)(te,{})}),children:[Object(E.jsx)(i.d,{index:!0,element:Object(E.jsx)(i.b,{replace:!0,to:"signin"})}),Object(E.jsx)(i.d,{path:"signin",element:Object(E.jsx)(W,{})}),Object(E.jsx)(i.d,{path:"signup",element:Object(E.jsx)(K,{})}),Object(E.jsx)(i.d,{path:"resetpassword",element:Object(E.jsx)(F,{})})]}),Object(E.jsx)(i.d,{path:"*",element:Object(E.jsx)(re,{})})]})})})},he=r(26);c.a.render(Object(E.jsx)(n.a.StrictMode,{children:Object(E.jsx)(he.BrowserRouter,{basename:"/qr-sharing-app",children:Object(E.jsx)(i.f,{children:Object(E.jsx)(i.d,{path:"/*",element:Object(E.jsx)(Oe,{})})})})}),document.getElementById("root"))}},[[88,1,2]]]);
//# sourceMappingURL=main.c9820289.chunk.js.map